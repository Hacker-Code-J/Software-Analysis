% Propositional Logic I

References:\cite{youtube:COSE419-Lecture4-1}

Propositional logic is a branch of logic that deals with propositions which can be either true or false. The basic components and operations in propositional logic are as follows:

%\begin{align*}
%	\texttt{<atom>} ::= &\ \text{"P"}\ |\ \text{"Q"}\ |\ \text{"R"}\ |\ \ldots\
%\end{align*}
%
%\begin{align*}
%	\texttt{<literal>} ::= &\ \texttt{<atom>} \\
%	&\ |\ \text{"¬"}\ \texttt{<atom>}
%\end{align*}
%
%\begin{align*}
%	\texttt{<formula>} ::= &\ \texttt{<literal>} \\
%	&\ |\ \text{"("}\ \texttt{<formula>}\ \text{")"} \\
%	&\ |\ \text{"¬"}\ \texttt{<formula>} \\
%	&\ |\ \text{"("}\ \texttt{<formula>}\ \text{"∧"}\ \texttt{<formula>}\ \text{")"} \\
%	&\ |\ \text{"("}\ \texttt{<formula>}\ \text{"∨"}\ \texttt{<formula>}\ \text{")"} \\
%	&\ |\ \text{"("}\ \texttt{<formula>}\ \text{"→"}\ \texttt{<formula>}\ \text{")"} \\
%	&\ |\ \text{"("}\ \texttt{<formula>}\ \text{"↔"}\ \texttt{<formula>}\ \text{")"} \\
%\end{align*}

\section{Syntax and Semantic of Propositional Logic}
\begin{center}
\input{tikz/syntax-interpretation-semantic}
\end{center}
\subsection{Syntax}
% Tree illustrating Atoms, Literals, and Formulas
\begin{center}\adjustbox{scale=.75}{
%\begin{tikzpicture}[
%	level distance=2.5cm,
%	sibling distance=3.5cm,
%	every node/.style={draw, shape=rectangle, rounded corners, align=center}
%	]
%	
%	% Root
%	\node {Boolean Logic}
%	% Level 1
%	child {node {Unary}
%	}
%	child {node {Binary}
%	}
%	% Level 2
%	child {node {Atom}
%		% Level 3 for Unary
%		child {node {Unary: $\bot$ (false)}}
%		child {node {Unary: $\top$ (true)}}
%		% Level 3 for Binary
%		child {node {Binary: $P, Q, R, \dots$}}
%	}
%	child {node {Literal}
%		% Level 3 for Unary
%		child {node {Unary: $\neg \bot$}}
%		child {node {Unary: $\neg \top$}}
%		% Level 3 for Binary
%		child {node {Binary: $\neg P, \neg Q, \neg R, \dots$}}
%	}
%	child {node {Formula}
%		% Level 3 for Unary
%		child {node {Unary: $\neg F$ (not)}}
%		% Level 3 for Binary
%		child {node {Binary: $F_1 \land F_2$ (and)}}
%		child {node {Binary: $F_1 \lor F_2$ (or)}}
%		child {node {Binary: $F_1 \to F_2$ (implies)}}
%		child {node {Binary: $F_1 \leftrightarrow F_2$ (if and only if)}}
%	};
%	
%\end{tikzpicture}
}
\end{center}
%\begin{tikzpicture}[
%	node distance=2cm,
%	every node/.style={draw, rectangle, rounded corners, align=center},
%	level 1/.style={sibling distance=6cm},
%	level 2/.style={sibling distance=3cm},
%	level 3/.style={sibling distance=2cm}
%	]
%	
%	% Root node
%	\node (formula) {Formula};
%	
%	% Level 1
%	\node [below left=of formula] (literal) {Literal}
%	child {node (atom) {Atom\\(e.g., $P, Q$)}}
%	child {node (negatom) {Negation of Atom\\(e.g., $\lnot P, \lnot Q$)}};
%	
%	\node [below right=of formula] (special) {Special Constant}
%	child {node {True\\($\top$)}}
%	child {node {False\\($\bot$)}};
%	
%	% Connections from Formula to Literals and Special Constants
%	\draw (formula) -- (literal);
%	\draw (formula) -- (special);
%	
%	% Level 2
%	\node [below=2cm of literal] (unary) {Unary Truth Function}
%	child {node (neg) {Negation\\($\lnot F$)}};
%	
%	\node [below=2cm of special] (binary) {Binary Truth Function}
%	child {node (and) {Conjunction\\($F_1 \land F_2$)}}
%	child {node (or) {Disjunction\\($F_1 \lor F_2$)}}
%	child {node (imp) {Implication\\($F_1 \to F_2$)}}
%	child {node (bicond) {Biconditional\\($F_1 \leftrightarrow F_2$)}};
%	
%	% Connections from Literals to Unary Truth Function
%	\draw (literal) -- (unary);
%	
%	% Connections from Special Constants to Binary Truth Function
%	\draw (special) -- (binary);
%	
%	% Level 3 Connections from Unary and Binary Truth Functions to Formulas
%	\foreach \child in {neg, and, or, imp, bicond}
%	\draw (\child) -- ++(0,-1) node[draw, rectangle, rounded corners, align=center] {Formula};
%	
%	% Additional connections to demonstrate usage
%	\draw (negatom) -- (neg);
%	\draw (atom) -- (unary);
%	\draw (negatom) -- (unary);
%	
%\end{tikzpicture}
\begin{itemize}
	\item \textbf{Atom}: basic elements
	\begin{itemize}
		\item truth symbols $\bot$(``false'') and $\top$(``true'')
		\item propositional variables $P,Q,R,\dots$
	\end{itemize}
	\item \textbf{Literal}: an atom $\alpha$ or its negation $\lnot\alpha$.
	\item \textbf{Formula}: a literal or the application of a logical connective (boolean connectives) to formulas
	\[
	\begin{array}{ccll}
		F & \to & \bot \\
		& | & \top \\
		& | & P \\
		& | & \lnot F & \text{negation (``not'')} \\
		& | & F_1\land F_2 & \text{conjunction (``and'')} \\
		& | & F_1\lor F_2 & \text{disjunction (``or'')} \\
		& | & F_1\to F_2 & \text{implication (``implies'')} \\
		& | & F_1\leftrightarrow F_2 & \text{iff (``if and only if'')}
	\end{array}
	\]
	\item[]
	\item Formula $G$ is a \textbf{subformula} of formula $F$ if it occurs syntactically within $G$.
	\begin{align*}
		\sub{\bot} &= \set{\bot} \\
		\sub{\top} &= \set{\top} \\
		\sub{P} &= \set{P} \\
		\sub{\lnot F} &= \set{\lnot F}\cup\sub{F} \\
		\sub{F_1\land F_2} &= \set{F_1\land F_2}\cup\sub{F_1}\cup\sub{F_2}
		&\vdots
	\end{align*}
	\item Consider $F:(P\land Q)\to (P\lor\lnot Q)$. Then \[
	\sub{F}=\set{F,P\land Q,P\lor\lnot Q,P,Q,\lnot Q}.
	\]
	\begin{itemize}
		\item $\to\ \in (\B^2)^{\B}$
		\item $\land \in (\B^2)^{\B}$
		\item $\lor \in (\B^2)^{\B}$
		\item $\lnot \in (\B)^{\B}$
	\end{itemize}
	\item The strict subformulas of a formula are all its subformulas except itself.
	\item[]
	\item To minimally use parentheses, we define the relative precedence of the logical connectives from highest to lowest as follows: \[
	\lnot\quad\land\quad\lor\quad\rightarrow\quad\leftrightarrow
	\]
	\item (Currying) Additionally, $\rightarrow$ and $\leftrightarrow$ associate to the right, e.g., \[
	P\to Q\to R\iff P\to(Q\to R).
	\]
	\item Example:
	\begin{itemize}
		\item $(P\land Q)\to (P\lor\lnot Q)\iff P\land Q\to P\lor \lnot Q$
		\item $(P_1\land((\lnot P_2)\land\top))\lor((\lnot P_1)\land P_2)\iff P_1\land P_2\top\lor\lnot P_1\land P_2$
	\end{itemize}
\end{itemize}

\subsection{Semantics}
\begin{itemize}
	\item The semantics of a logic provides its meaning. The meaning of a PL formula is either true or false.
	\item The semantics of a formula is defined with an \textbf{interpretation} (or assignment) that assigns truth values to propositional variables.
	\item For example, $F:P\land Q\to P\lor\land Q$ evaluates to true under the interpretation $I:\set{P\mapsto \text{true},Q\mapsto\text{false}}:$
	\begin{table}[h!]\centering\setstretch{1.25}
		\begin{tabular}{c|c||c|c|c|c}
			\hline
			$P$ & $Q$ & $\lnot Q$ & $P\land Q$ & $P\lor \lnot Q$ & $F$ \\ \hline
			1 & 0 & 1 & 0 & 1 & 1 \\ \hline
		\end{tabular}
	\end{table}
	\item The tabular notation is unsuitable for predicate logic. Instead, we define the semantics inductively.
\end{itemize}

\subsection{Inductive Definition of Semantics}
In an inductive definition, the meaning of basic elements is defined first.
The meaning of complex elements is defined in terms of subcomponents.
\begin{itemize}
	\item We write $I\models F$ if $F$ evaluates to \textbf{true} under $I$.
	\item We write $I\not\models F$ if $F$ evaluates to \textbf{false} under $I$.
\end{itemize}
Note that \[
\begin{array}{ll}
I\models \top,\quad I\not\models\bot, & \\
I\models P &\text{iff}\ I[P]=\text{true} \\
I\models \lnot F &\text{iff}\ I[P]=\text{false} \\
I\models\lnot F &\text{iff}\ I\not\models F \\
I\models F_1\land F_2 &\text{iff}\ I\models F_1\ \text{and}\ I\models F_2 \\
I\models F_1\lor F_2 &\text{iff}\ I\models F_1\ \text{or}\ I\models F_2 \\
I\models F_1\to F_2 &\text{iff}\ I\not\models F_1\ \text{or}\ I\models F_2 \\
I\models F_1\leftrightarrow F_2 &\text{iff}\ (I\models F_1\ \text{and}\ I\models F_2)\ \text{or}\ (I\not\models F_1\ \text{and}\ I\not\models F_2)
\end{array}
\]
\vspace{12pt}
\begin{example}
	Consider the formula \[
	F:P\land Q\to P\lor\lnot Q
	\] and the interpretation \[
	I:\set{P\mapsto\text{true},Q\mapsto\text{false}}.
	\] The truth value of $F$ is computed as follows: \[
	\begin{array}{ll}
		1.\quad I\models P &\text{since $I[P]=\text{true}$} \\
		2.\quad I\not\models Q &\text{since $I[P]=\text{true}$} \\
		3.\quad I\models \lnot Q &\text{by 2 and semantics of $\lnot$} \\
		4.\quad I\not\models P\land Q &\text{by 2 and semantics of $\land$} \\
		5.\quad I\models P\lor \lnot Q &\text{by 1 and semantics of $\lor$} \\
		6.\quad I\models F &\text{by 4 and semantics of $\to$} \\
	\end{array}
	\]
\end{example}

\section{Satisfiability and Validity}
\begin{itemize}
	\item A formula $F$ is \textbf{satisfiable} iff there exists an interpretation $I$ such that $I\models F$.
	\item A formula $F$ is \textbf{valid} iff for all interpretations $I$, $I\models F$.
	\item Satisfiability and validity are dual: \[
	\text{$F$ is valid}\iff\text{$\lnot F$ is unsatisfiable}
	\]
	\begin{proof}
		content...
	\end{proof}
	\item We can check satisfiability by deciding validity, and vice versa.
\end{itemize}

\begin{figure}[h!]\centering
\begin{tikzcd}
	& \text{VALID} \arrow[dr, "\neg"] & \\
	\text{SAT} \arrow[ur, "\neg"] \arrow[rr, "\neg"] & & \text{UNSAT} \\
	& \text{INVALID} \arrow[ul, "\neg"] \arrow[ur, "\neg"] &
\end{tikzcd}
\caption{Relation of SAT, UNSAT, VALID and INVALID}
\end{figure}

\begin{figure}[h!]\centering
\input{tikz/sat-solver}
\end{figure}

\newpage
\subsection{Deciding Validity and Satisfiability}
Two approaches to show $F$ is valid:
\begin{itemize}
	\item \textbf{Truth Table Method} performs exhaustive search: e.g., \[
	F:P\land Q\to P\lor\lnot Q.
	\]
	\begin{table}[h!]\centering
		\begin{tabular}{c|c|c|c|c||c}
			\hline
			$P$ & $Q$ & $P\land Q$ & $\lnot Q$ & $P\lor\lnot Q$ & $F$ \\ \hline
			0 & 0 & 0 & 1 & 1 & 1 \\
			0 & 1 & 0 & 0 & 0 & 1 \\
			1 & 0 & 0 & 1 & 1 & 1 \\
			1 & 1 & 1 & 0 & 1 & 1 \\ \hline
		\end{tabular}
	\end{table} \\
	Non-applicable to logic with infinite domain (e.g., first-order logic).
	\item \textbf{Semantic Argument Method} uses deduction:
	\begin{itemize}
		\item Assume $F$ is valid: $I\not\models F$ for some $I$ (falsifying interpretation).
		\item Apply deduction rules (proof rules) to derive a contradiction.
		\item If every branch of the proof derives a contradiction, then $F$ is valid.
		\item If some branch of the proof never derives a contradiction, then $F$ is invalid.
	\end{itemize}
\end{itemize}

\subsection{Deduction Rules for Propositional Logic}
\begin{center}
\begin{minipage}{.48\textwidth}
	\item \textbf{Negation Elimination}\[
	\frac{I\models\lnot F}{I\not\models F}
	\] This rule shows how to derive $F$ from $\lnot F$. It eliminates the negation by asserting that if $\lnot F$ holds, then $F$ cannot hold.
	\vspace{12pt}
	\item \textbf{Conjunction Elimination}\footnote{And-Elimination}\[
	\frac{I\models F\land G}{I\models F, I\models G}
	\] This rule breaks down a conjunction into its individual components, showing that if 
	$F\land G$ is true, then both $F$ and $G$ are true.
	\vspace{12pt}
	\item \textbf{Disjunction Elimination}\footnote{Or-Elimination} \[
	\frac{I\models F\lor G}{I\models F\mid I\models G}
	\] This rule asserts that if $F\lor G$ is true in an interpretation, then either 
	$F$ is true, or $G$ is true, or both are true. This is also sometimes referred to as the rule of cases.
	\vspace{12pt}
	\item \textbf{Implication Elimination}\footnote{Material Implication}\[
	\frac{I\models F\to G}{I\not\models F\mid I\models G}
	\] This rule states that if $F\to G$ is true in an interpretation, then either 
	$F$ is false or $G$ is true. This corresponds to the definition of material implication in classical logic.
	
	\vspace{12pt}
	\item \textbf{Biconditional Elimination}\footnote{If and Only If Elimination}\[
	\frac{I\models F\leftrightarrow G}{I\models F\land G\mid I\models\lnot F\land\lnot G}
	\] This rule states that if $F\leftrightarrow G$ is true in an interpretation, then either both 
	$F$ and $G$ are true, or both $F$ and $G$ are false. This corresponds to the definition of a biconditional statement in classical logic.
\end{minipage}\quad
\begin{minipage}{.48\textwidth}
\item \textbf{Negation Introduction} \[
\frac{I\not\models \lnot F}{I\models F}
\] This rule introduces $F$ from the fact that $\lnot F$ does not hold. It asserts that if the negation of $F$ does not hold, then $F$ must hold.
\vspace{12pt}
\item \textbf{De Morgan's Law for Conjunction}\footnote{Contrapositive of Conjunction Introduction}\[
\frac{I\not\models F\land G}{I\not\models F \mid I\not\models G}
\] This rule states that if 
$F\land G$ is not true, then at least one of $F$ or $G$ is not true. This is an application of De Morgan's laws.
\vspace{12pt}
\item \textbf{De Morgan's Law for Disjunction}\footnote{Contrapositive of Disjunction Introduction}\[
\frac{I\not\models F\lor G}{I\not\models F, I\not\models G}
\] This rule states that if $F\lor G$ is not true, then both $F$ is not true and $G$ is not true.  This is directly derived from De Morgan's laws in classical logic.
\vspace{12pt}
\item \textbf{Denial of Implication}\footnote{Contrapositive of Implication} \[
\frac{I\not\models F\to G}{I\models F, I\not\models G}
\] This rule states that if $F\to G$ is not true in an interpretation, then 
$F$ must be true and $G$ must be false. This is the contrapositive form of material implication.
\vspace{12pt}
\item \textbf{Negation of Biconditional}\footnote{Exclusive Or Elimination} \[
\frac{I\not\models F\leftrightarrow G}{I\models F\land \lnot G\mid I\models\lnot F\land G}
\] This rule states that if $F\leftrightarrow G$ is not true in an interpretation, then $F$ and 
$G$ have opposite truth values, i.e., either $F$ is true and $G$ is false, or $F$ is false and $G$ is true.
This aligns with the concept of exclusive or (XOR).
\end{minipage}
\end{center}
\begin{center}
\textbf{Contradiction Introduction} (Proof by Contradiction) \[
\frac{I\models F\quad I\not\models F}{I\models\bot}
\]
\end{center}
\begin{example}
	To prove that the formula \[
	F:P\land Q\to P\lor\lnot Q
	\] is valid, assume that it is invalid and derive a contradiction:
	\[
	\begin{array}{ll}
		1.\quad I\not\models P\land \to P\lor\lnot Q & \text{assumption} \\
		2.\quad I\models P\land Q & \text{by 1 and semantics of $\to$} \\
		3.\quad I\not\models P\lor \lnot Q & \text{by 1 and semantics of $\to$} \\
		4.\quad I\models P & \text{by 2 and semantics of $\land$} \\
		5.\quad I\lnot\models P & \text{by 3 and semantics of $\lor$} \\
		6.\quad I\models\bot & \text{4 and 5 are contradictory}
	\end{array}
	\]
\end{example}

\begin{example}
	To prove that the formula \[
	F:(P\to Q)\land(Q\to R)\to(P\to R)
	\] is valid, assume that it is invalid and derive a contradiction:
\end{example}

\subsection{Proof Tree}

A proof evolves as a tree.
\begin{itemize}
	\item A branch is a sequence descending from the root.
	\item A branch is \textit{closed} it contains a contradiction. Otherwise, the branch is \textit{open}.
	\item It is a proof of the validity of $F$ if every branch is closed; otherwise, each open branch describes a falsifying interpretation of $F$.
\end{itemize}

\subsection{Derived Rules}
The proof rules are sufficient, but \textbf{derived rules} can make proofs more concise. E.g., the rule of modus ponens: \[
\frac{I\models F\quad I\models F\to G}{I\models G}
\]
The proof of the validity of the formula:\[
F:(P\to Q)\land (Q\to R)\to (P\to R)
\]
\[
\begin{array}{lll}
	1.& I\not\models F & \text{assumption} \\
	2.& I\models (P\to Q)\land (Q\to R) & \text{by 1 and semantics of $\to$} \\
	3.& I\models P\to R & \text{by 1 and semantics of $\to$} \\
	4.& I\models P & \text{by 3 and semantics of $\to$} \\
	5.& I\not\models R & \text{by 3 and semantics of $\to$} \\
	6.& I\not\models P\to Q & \text{2 and semantics of $\land$} \\
	7.& I\not\models Q\to R & \text{2 and semantics of $\land$} \\
	8.& I\not\models Q & \text{by 4, 6, and modus ponens} \\
	9.& I\not\models R & \text{by 8, 7, and modus ponens} \\
	10.& I\models\bot & \text{5 and 9 are contradictory}
\end{array}
\]


%\subsection*{1. Modus Ponens (MP)}
%\[
%\frac{A, \quad A \rightarrow B}{B}
%\]
%
%\subsection*{2. Modus Tollens (MT)}
%\[
%\frac{A \rightarrow B, \quad \neg B}{\neg A}
%\]
%
%\subsection*{3. Disjunction Introduction (DI)}
%\[
%\frac{A}{A \vee B}
%\]
%\[
%\frac{B}{A \vee B}
%\]
%
%\subsection*{4. Disjunction Elimination (DE)}
%\[
%\frac{A \vee B, \quad \neg A}{B}
%\]
%\[
%\frac{A \vee B, \quad \neg B}{A}
%\]
%
%\subsection*{5. Conjunction Introduction (CI)}
%\[
%\frac{A, \quad B}{A \wedge B}
%\]
%
%\subsection*{6. Conjunction Elimination (CE)}
%\[
%\frac{A \wedge B}{A}
%\]
%\[
%\frac{A \wedge B}{B}
%\]
%
%\subsection*{7. Biconditional Introduction (BI)}
%\[
%\frac{A \rightarrow B, \quad B \rightarrow A}{A \leftrightarrow B}
%\]
%
%\subsection*{8. Biconditional Elimination (BE)}
%\[
%\frac{A \leftrightarrow B}{A \rightarrow B}
%\]
%\[
%\frac{A \leftrightarrow B}{B \rightarrow A}
%\]
%
%\subsection*{9. Negation Introduction (NI)}
%\[
%\frac{A \rightarrow \bot}{\neg A}
%\]
%
%\subsection*{10. Negation Elimination (NE)}
%\[
%\frac{\neg A \rightarrow \bot}{A}
%\]
%
%\subsection*{11. Double Negation Elimination (DNE)}
%\[
%\frac{\neg \neg A}{A}
%\]
%
%\subsection*{12. Contradiction Elimination (CE)}
%\[
%\frac{\bot}{A}
%\]
%
%\subsection*{13. Contradiction Introduction (CI)}
%\[
%\frac{A \wedge \neg A}{\bot}
%\]